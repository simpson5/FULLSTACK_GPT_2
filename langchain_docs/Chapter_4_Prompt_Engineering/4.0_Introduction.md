# ğŸ“– Section 4.0: Model I/O ëª¨ë“ˆ ì†Œê°œ

## ğŸ¯ í•™ìŠµ ëª©í‘œ
- âœ… LangChain ëª¨ë“ˆ êµ¬ì¡° ì „ì²´ ì´í•´
- âœ… Model I/O ëª¨ë“ˆì˜ ì—­í• ê³¼ êµ¬ì„± ìš”ì†Œ íŒŒì•…
- âœ… í•™ìŠµ ë¡œë“œë§µê³¼ ìš°ì„ ìˆœìœ„ ì´í•´
- âœ… ë‹¤ìŒ ë‹¨ê³„ í•™ìŠµ ê³„íš ìˆ˜ë¦½

## ğŸ§  í•µì‹¬ ê°œë…

### LangChain ëª¨ë“ˆ êµ¬ì¡° ì „ì²´
LangChainì€ 6ê°œì˜ ì£¼ìš” ëª¨ë“ˆë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

```mermaid
graph TD
    A[LangChain Framework] --> B[Model I/O ğŸ“]
    A --> C[Retrieval]
    A --> D[Chains]
    A --> E[Agents]
    A --> F[Memory]
    A --> G[Callbacks]
    
    B --> B1[Prompts]
    B --> B2[Language Models]
    B --> B3[Output Parsers]
    
    C --> C1[Document Loaders]
    C --> C2[Text Transformers]
    C --> C3[Text Embeddings]
    C --> C4[Vector Stores]
    C --> C5[Retrievers]
    
    F --> F1[ConversationBufferMemory]
    F --> F2[ConversationSummaryMemory]
    F --> F3[ConversationKGMemory]
```

## ğŸ“‹ ì£¼ìš” ëª¨ë“ˆ ë ˆí¼ëŸ°ìŠ¤

### 1. Model I/O (í˜„ì¬ í•™ìŠµ ì¤‘)
```python
# Input: í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
from langchain.prompts import PromptTemplate, ChatPromptTemplate

# Model: ì–¸ì–´ ëª¨ë¸
from langchain.chat_models import ChatOpenAI
from langchain.llms import OpenAI

# Output: ì¶œë ¥ íŒŒì„œ
from langchain.schema import BaseOutputParser
```

**ğŸ“Œ êµ¬ì„± ìš”ì†Œ**:
- `Prompts`: ì…ë ¥ í…œí”Œë¦¿ ê´€ë¦¬ (PromptTemplate, FewShotPromptTemplate)
- `Language Models`: AI ëª¨ë¸ ì¸í„°í˜ì´ìŠ¤ (ChatOpenAI, GPT-4)
- `Output Parsers`: ì¶œë ¥ ë³€í™˜ (ì»¤ìŠ¤í…€ íŒŒì„œ, JSON íŒŒì„œ)

### 2. Retrieval (Document GPTì—ì„œ í•™ìŠµ)
```python
# ì™¸ë¶€ ë°ì´í„° ì‘ì—…ì„ ìœ„í•œ ëª¨ë“ˆ
from langchain.document_loaders import TextLoader
from langchain.text_splitter import RecursiveCharacterTextSplitter
from langchain.embeddings import OpenAIEmbeddings
from langchain.vectorstores import Chroma
```

### 3. Chains (ì´ë¯¸ í•™ìŠµ ì™„ë£Œ)
```python
# LCELë¡œ ì²´ì¸ êµ¬ì„±
chain = prompt_template | chat_model | output_parser
```

### 4. Agents (ê³ ê¸‰ ì£¼ì œ - ë§ˆì§€ë§‰ì— í•™ìŠµ)
```python
# AIê°€ ë„êµ¬ë¥¼ ììœ¨ì ìœ¼ë¡œ ì„ íƒí•˜ì—¬ ì‘ì—… ìˆ˜í–‰
from langchain.agents import initialize_agent
```

### 5. Memory (ë‹¤ìŒ í•™ìŠµ ì£¼ì œ)
```python
# ëŒ€í™” ê¸°ì–µ ê¸°ëŠ¥
from langchain.memory import ConversationBufferMemory
```

### 6. Callbacks (ì¤‘ê°„ ê³¼ì • ëª¨ë‹ˆí„°ë§)
```python
# LLM ë™ì‘ ê³¼ì • ì¶”ì 
from langchain.callbacks import StreamingStdOutCallbackHandler
```

## ğŸ”§ í•™ìŠµ ìš°ì„ ìˆœìœ„ì™€ ë¡œë“œë§µ

### Phase 1: ê¸°ì´ˆ ëª¨ë“ˆ (í˜„ì¬ ë‹¨ê³„)
1. **Model I/O** âœ… (í˜„ì¬ í•™ìŠµ ì¤‘)
   - Prompts: ë‹¤ì–‘í•œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
   - Language Models: OpenAI ëª¨ë¸ ì‚¬ìš©ë²•
   - Output Parsers: ì‘ë‹µ ë³€í™˜ ê¸°ë²•

2. **Memory** (ë‹¤ìŒ ë‹¨ê³„)
   - ëŒ€í™” ê¸°ì–µ ê¸°ëŠ¥
   - ë‹¤ì–‘í•œ ë©”ëª¨ë¦¬ íƒ€ì…

### Phase 2: ì‹¤ì „ êµ¬í˜„
3. **Retrieval** (Document GPT í”„ë¡œì íŠ¸)
   - ì™¸ë¶€ ë°ì´í„° ì²˜ë¦¬
   - ë²¡í„° ì €ì¥ì†Œ í™œìš©

4. **Streamlit** 
   - ì›¹ UI êµ¬í˜„
   - ì‚¬ìš©ì ì¸í„°ë™ì…˜

### Phase 3: ê³ ê¸‰ ê¸°ëŠ¥
5. **Agents** (ìµœì¢… ë‹¨ê³„)
   - ììœ¨ì  AI ì—ì´ì „íŠ¸
   - ë„êµ¬ ì‚¬ìš©ë²•

## ğŸ’» ì‹¤ì „ ì˜ˆì œ

### í˜„ì¬ê¹Œì§€ í•™ìŠµí•œ ë‚´ìš© ì¢…í•©
```python
from langchain.chat_models import ChatOpenAI
from langchain.prompts import ChatPromptTemplate
from langchain.schema import BaseOutputParser

# ğŸ“Œ ì–¸ì–´ ëª¨ë¸ ì´ˆê¸°í™”
chat = ChatOpenAI(temperature=0.1)  # ğŸ“Œ ìš©ë„: AI ëª¨ë¸, íƒ€ì…: ChatOpenAI

# ğŸ“Œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
template = ChatPromptTemplate.from_messages([  # ğŸ“Œ ìš©ë„: ë©”ì‹œì§€ í…œí”Œë¦¿ ìƒì„±
    ("system", "You are a helpful assistant"),  # ğŸ“Œ ì‹œìŠ¤í…œ ì—­í•  ì •ì˜
    ("human", "{question}")  # ğŸ“Œ ì‚¬ìš©ì ì…ë ¥ ë³€ìˆ˜
])

# ğŸ“Œ ì¶œë ¥ íŒŒì„œ (ì˜ˆì‹œ)
class ListOutputParser(BaseOutputParser):
    def parse(self, text):  # ğŸ“Œ ê¸°ëŠ¥: í…ìŠ¤íŠ¸ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜
        """
        ğŸ“‹ ê¸°ëŠ¥: ì‰¼í‘œë¡œ êµ¬ë¶„ëœ í…ìŠ¤íŠ¸ë¥¼ íŒŒì´ì¬ ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜
        ğŸ“¥ ì…ë ¥: ë¬¸ìì—´ (ì˜ˆ: "apple, banana, orange")
        ğŸ“¤ ì¶œë ¥: ë¦¬ìŠ¤íŠ¸ (ì˜ˆ: ["apple", "banana", "orange"])
        ğŸ’¡ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤: LLM ì‘ë‹µì„ êµ¬ì¡°í™”ëœ ë°ì´í„°ë¡œ ë³€í™˜í•  ë•Œ
        """
        return [item.strip() for item in text.split(",")]

# ğŸ“Œ LCELë¡œ ì²´ì¸ êµ¬ì„±
chain = template | chat | ListOutputParser()  # ğŸ“Œ íŒŒì´í”„ë¼ì¸ êµ¬ì„±

# ğŸ“Œ ì‹¤í–‰
result = chain.invoke({"question": "List 3 programming languages"})
# ì˜ˆìƒ ê²°ê³¼: ["Python", "JavaScript", "Java"]
```

## ğŸ§ª ì‹¤ìŠµ ê³¼ì œ

### ğŸ”¨ ê¸°ë³¸ ê³¼ì œ
1. ê° ëª¨ë“ˆì˜ ì—­í• ì„ ìì‹ ì˜ ë§ë¡œ ì„¤ëª…í•´ë³´ê¸°
2. Model I/Oì˜ 3ê°€ì§€ êµ¬ì„± ìš”ì†Œ ì˜ˆì œ ì‘ì„±
3. í•™ìŠµ ë¡œë“œë§µì— ë”°ë¼ ê°œì¸ í•™ìŠµ ê³„íš ìˆ˜ë¦½

### ğŸš€ ì‹¬í™” ê³¼ì œ
4. í˜„ì¬ê¹Œì§€ í•™ìŠµí•œ ë‚´ìš©ìœ¼ë¡œ ê°„ë‹¨í•œ ì±—ë´‡ í”„ë¡œí† íƒ€ì… ë§Œë“¤ê¸°
5. ë‹¤ë¥¸ ëª¨ë“ˆë“¤ì˜ ê³µì‹ ë¬¸ì„œ ë¯¸ë¦¬ ì‚´í´ë³´ê¸°

## âš ï¸ ì£¼ì˜ì‚¬í•­

### í•™ìŠµ ìˆœì„œ ì¤‘ìš”ì„±
- **ìˆœì°¨ í•™ìŠµ í•„ìš”**: ê° ëª¨ë“ˆì€ ì´ì „ ëª¨ë“ˆì˜ ì§€ì‹ì„ ê¸°ë°˜ìœ¼ë¡œ í•¨
- **ì‹¤ìŠµ ì¤‘ì‹¬**: ê°œë…ë§Œ ì´í•´í•˜ì§€ ë§ê³  ë°˜ë“œì‹œ ì½”ë“œë¡œ ì‹¤ìŠµ
- **ì ì§„ì  ë³µì¡ë„**: ê°„ë‹¨í•œ ì˜ˆì œë¶€í„° ë³µì¡í•œ í”„ë¡œì íŠ¸ë¡œ ì§„í–‰

### ì‹¤ë¬´ ê´€ì 
- **ë¹„ìš© ê³ ë ¤**: API í˜¸ì¶œ ë¹„ìš©ì„ í•­ìƒ ì—¼ë‘ì— ë‘ê¸°
- **ì„±ëŠ¥ ìµœì í™”**: ìºì‹±, í”„ë¡¬í”„íŠ¸ ìµœì í™” ë“± ê³ ë ¤
- **í™•ì¥ì„±**: ì‹¤ì œ ì„œë¹„ìŠ¤ì— ì ìš© ê°€ëŠ¥í•œ êµ¬ì¡°ë¡œ ì„¤ê³„

## ğŸ”— ê´€ë ¨ ìë£Œ
- **ë‹¤ìŒ í•™ìŠµ**: [4.1 FewShotPromptTemplate](./4.1_FewShotPromptTemplate.md)
- **ë³‘í–‰ í•™ìŠµ**: [3.3 Output Parserì™€ LCEL](../Chapter_3_LCEL/3.3_OutputParser_LCEL.md)
- **ê³µì‹ ë¬¸ì„œ**: [LangChain Modules](https://python.langchain.com/docs/modules/)
- **API ë ˆí¼ëŸ°ìŠ¤**: [Templates API](../API_Reference/Templates_API.md)

---

ğŸ’¡ **í•µì‹¬ ì •ë¦¬**: Model I/OëŠ” LangChainì˜ í•µì‹¬ ëª¨ë“ˆë¡œ, ì…ë ¥(Prompts) â†’ ì²˜ë¦¬(Language Models) â†’ ì¶œë ¥(Output Parsers)ì˜ ì™„ì „í•œ íŒŒì´í”„ë¼ì¸ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ëª¨ë“ˆì„ ì™„ì „íˆ ì´í•´í•˜ë©´ LangChainì˜ ë‹¤ë¥¸ ëª¨ë“  ê¸°ëŠ¥ì„ íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.